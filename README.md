# Башмачок Бот

Telegram-бот для отправки дореволюционных российских анекдотов, адаптированных под Башмачка (кота).

## Источники анекдотов

Анекдоты основаны на исторических байках про русских царей XVIII-XIX веков:
- Петр I
- Екатерина II  
- Павел I
- Александр I
- Николай I
- Александр II
- Александр III
- Николай II

Источники: Афиша Daily, Arzamas, исторические сборники дореволюционной России.

## Адаптация

Главные герои заменены на "Башмачок" (кот) с сохранением:
- Оригинального сюжета
- Исторического контекста
- Языка эпохи

Грамматика адаптирована:
- Башмачок (мужской род): "Башмачок сказал"
- Башмачок (женский род, для анекдотов про Екатерину II): "Башмачок сказала"

## Механизм отправки

Анекдоты отправляются последовательно (без повторений):
1. Первый запуск → анекдот #1
2. Второй запуск → анекдот #2
3. ...
4. Последний анекдот → спец. сообщение "анекдоты кончились"
5. Следующий запуск → цикл начинается заново

## Environment Variables

```
TELEGRAM_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id
CRON_SECRET=your_cron_secret
```

## Для персистентного хранения индекса

Добавьте Vercel KV:

1. Установите: `npm install @vercel/kv`
2. Настройте KV в Vercel Dashboard
3. Замените в `api/cron.js`:

```javascript
import { kv } from '@vercel/kv';

async function getCurrentIndex() {
  const index = await kv.get('last_joke_index');
  return index || 0;
}

async function setLastIndex(index) {
  await kv.set('last_joke_index', index);
}
```

## Всего анекдотов

24 анекдота

## Deploy

```bash
git add -A
git commit -m "update jokes"
git push origin main
```

Vercel автоматически задеплоит изменения.
